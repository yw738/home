System.register(["./index-legacy-CtJM3Uby.js","./_plugin-vue_export-helper-legacy-CJc0f6Vb.js"],(function(e,t){"use strict";var l,i,a,n,r,d,c,s,o,p,u,h,g,_,v,f,m,R;return{setters:[e=>{l=e.h,i=e.u,a=e.Q,n=e.G,r=e.c,d=e.K,c=e.A,s=e.H,o=e.U,p=e.V,u=e.E,h=e.R,g=e.I,_=e.O,v=e.P,f=e.n},e=>{m=e.az,R=e.at}],execute:function(){var t=document.createElement("style");t.textContent=".box[data-v-e6b813e8]{padding:10px}\n",document.head.appendChild(t);let y=(e={})=>JSON.parse(JSON.stringify(e));const E={class:"box"},O={style:{margin:"10px 0 0 0"}},x={style:{color:"red"}};e("default",m({__name:"index",setup(e){let t=l({border:!0,treeConfig:{showLine:!0,childrenField:"children"},editConfig:{trigger:"click",mode:"cell"},columns:[{type:"seq",width:70},{field:"title",title:"title",width:200,treeNode:!0,editRender:{name:"input"}},{field:"icon",title:"icon",width:150,editRender:{name:"input"}},{field:"tips",title:"tips",editRender:{name:"input"}},{field:"tags",title:"tags",width:200,editRender:{name:"input"}},{field:"url",title:"url",editRender:{name:"input"}},{field:"img",title:"img",editRender:{name:"input"}},{field:"private",title:"是否私有",editRender:{name:"select",options:[{label:"",value:""},{label:"隐藏",value:"true"},{label:"显示",value:"false"}]}},{field:"action",title:"操作",width:150,slots:{default:"action"}}],data:[]}),m=l(null),C=e=>{let t=(()=>{let e=m.value.getTreeExpandRecords();return console.log(e),e})();e(),f((()=>((e=[])=>{const t=m.value;t&&t.setTreeExpand(e,!0)})(t)))};i((()=>{let e=y(t.value);a.forEach((e=>{e.children?.length&&(e._X_ROW_KEY&&delete e._X_ROW_KEY,e.children.forEach((e=>{e._X_ROW_KEY&&delete e._X_ROW_KEY,e.tags&&(e.tags=e.tags.join(",")),e?.private&&(e.private=e.private.toString()),e.children?.length&&e.children.forEach((e=>{e._X_ROW_KEY&&delete e._X_ROW_KEY,e?.tags&&(e.tags=e.tags.join(",")),e?.private&&(e.private=e.private.toString())}))})))})),e.data=a,t.value=e}));let b=()=>{let e=y(t.value);e.data.push({title:"新增的",children:[{title:"",tags:"",tips:"",url:""}]}),C((()=>{t.value=e}))},k=e=>{let{row:l,level:i}=e,a={title:"",tags:"",tips:"",url:"",children:[]},n={title:"",tags:"",tips:"",url:""};0==i?l?.children?.length?l.children.push(a):l.children=[a]:1==i&&(l?.children?.length?l.children.push(n):l.children=[n]),C((()=>{t.value=y(t.value)}))},K=async e=>{let{seq:l,row:i,rowid:a,level:n}=e;console.log(e);const r=y(t.value.data);let[d,c,s]=l.split(".");0==n?r.splice(d-1,1):1==n?r[d-1].children.splice(c-1,1):2==n&&r[d-1].children[c-1].children.splice(s-1,1),C((()=>{t.value.data=r}))},w=()=>{const e=y(t.value.data);e.forEach((e=>{e.children?.length&&(e._X_ROW_KEY&&delete e._X_ROW_KEY,e.children.forEach((e=>{e._X_ROW_KEY&&delete e._X_ROW_KEY,e.tags&&(e.tags=e.tags.split(",")),e?.private&&("false"==e.private?e.private=!1:e.private=!0),e.children?.length&&e.children.forEach((e=>{e._X_ROW_KEY&&delete e._X_ROW_KEY,e?.tags&&(e.tags=e.tags.split(",")),e?.private&&("false"==e.private?e.private=!1:e.private=!0)}))})))})),console.log(e),function(e,t="data.js"){const l=`// ${t}\nexport default ${JSON.stringify(e,null,2)};\n`,i=new Blob([l],{type:"application/javascript"}),a=URL.createObjectURL(i),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}(e,"users.js")};return(e,l)=>{const i=R,a=p("vxe-grid");return u(),n("div",E,[r(i,{type:"primary",style:{"margin-right":"10px"},onClick:c(w)},{default:d((()=>l[0]||(l[0]=[h("保存")]))),_:1},8,["onClick"]),r(i,{type:"primary",onClick:c(b)},{default:d((()=>l[1]||(l[1]=[h("新增大类别")]))),_:1},8,["onClick"]),s("div",O,[r(a,o(c(t),{ref_key:"gridRef",ref:m}),{"name-default":d((({row:e})=>[s("span",x,g(e.title),1)])),action:d((t=>[t.level<2?(u(),_(i,{key:0,onClick:e=>c(k)(t),style:{"margin-right":"10px"},type:"primary",size:"small"},{default:d((()=>l[2]||(l[2]=[h(" 加子类别 ")]))),_:2},1032,["onClick"])):v("",!0),r(i,{danger:"",size:"small",onClick:l=>c(K)(t,e.index)},{default:d((()=>l[3]||(l[3]=[h("删除")]))),_:2},1032,["onClick"])])),_:1},16)])])}}},[["__scopeId","data-v-e6b813e8"]]))}}}));
